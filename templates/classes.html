
{% extends "base.html" %}
{% block title %}الأقسام{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>الأقسام</h3>
  <form class="d-flex" method="get">
    <input class="form-control form-control-sm ms-2" name="q" value="{{ request.args.get('q','') }}" placeholder="بحث باسم القسم">
    <button class="btn btn-sm btn-outline-secondary">بحث</button>
  </form>
</div>

<form class="row g-2 mb-4" method="post">
  <div class="col-md-6">
    <input class="form-control" name="name" placeholder="اسم القسم (مثال: 2 آداب ب)">
  </div>
  <div class="col-md-2">
    <button class="btn btn-primary w-100">إضافة</button>
  </div>
</form>

<div class="row g-3">
  {% for c in items %}
  <div class="col-md-6">
    <div class="card">
      <div class="card-body d-flex justify-content-between align-items-center">
        <div>
          <h5 class="mb-1">{{ c.name }}</h5>
          <a href="{{ url_for('students_by_class', class_id=c.id) }}" class="btn btn-sm btn-outline-primary">تلاميذ القسم</a>
          <a href="{{ url_for('grades_home', class_id=c.id) }}" class="btn btn-sm btn-outline-secondary">علامات</a>
          <a href="{{ url_for('planning', class_id=c.id) }}" class="btn btn-sm btn-outline-secondary">تحضير</a>
        </div>
        <form method="post" action="{{ url_for('delete_class', class_id=c.id) }}" onsubmit="return confirm('حذف القسم؟');">
          <button class="btn btn-sm btn-outline-danger">حذف</button>
        </form>
      </div>
    </div>
  </div>
  {% else %}
  <div class="col-12"><div class="alert alert-info">لا توجد أقسام بعد.</div></div>
  {% endfor %}
</div>
{% endblock %}
