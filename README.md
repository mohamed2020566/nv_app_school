
# منصة الأساتذة (Flask + SQLite)

تطبيق ويب بسيط لتسيير شؤون الأستاذ(ة): الأقسام، التلاميذ، دفتر الملاحظات (غيابات/تأخرات/سلوك/مشاركة/اقتراحات)، التنقيط موزّع حسب الثلاثيات مع حساب المعدل، دفتر التحضير، ودفاتر إضافية (الاجتماعات، الأنشطة، المتابعة الفردية).

## المزايا الرئيسية
- إنشاء حساب/تسجيل الدخول/إعادة تعيين كلمة المرور (نموذج تجريبي يعرض رابط إعادة التعيين بدل إرسال بريد).
- فترة تجريبية (30 يومًا) ثم اشتراك شهري **250 دج**. يوجد مسار اشتراك يدوي يمدد الصلاحية (لأغراض التجربة).
- لوحة القيادة: إحصائيات أساسية وروابط سريعة.
- إدارة الأقسام والتلاميذ مع البحث والطباعة.
- دفتر الملاحظات: تتبع الغيابات والتأخرات والملاحظات السلوكية ومستوى المشاركة والاقتراحات مع الطباعة.
- التنقيط: تسجيل الفروض/الاختبارات لكل ثلاثي، حساب المعدلات، والطباعة.
- دفتر التحضير: (الأهداف، الوسائل البيداغوجية، سير الحصة) مع قالب طباعة.
- دفاتر إضافية: الاجتماعات، الأنشطة، والمتابعة الفردية مع البحث والطباعة.

> **تنبيه**: الدفع هنا نموذجي (يدوي) فقط لعرض المفهوم. للبيئة الإنتاجية يمكنك ربط بوابة دفع محلية/دولية وإثبات الدفع.
> **الأمان**: يوصى بتفعيل HTTPS وتبديل `SECRET_KEY` وإضافة CSRF في الإنتاج.

## التشغيل محليًا
```bash
python -m venv .venv
source .venv/bin/activate  # على ويندوز: .venv\Scripts\activate
pip install -r requirements.txt
export FLASK_APP=app.py    # على ويندوز: set FLASK_APP=app.py
flask run
```
افتح المتصفح على: http://127.0.0.1:5000

## متغيرات البيئة الاختيارية
- `SECRET_KEY` مفتاح الجلسة.
- `DATABASE_URL` مسار قاعدة البيانات (افتراضي SQLite محلي).
- `TRIAL_DAYS` عدد أيام التجربة (افتراضي 30).
- `MONTHLY_PRICE_DZD` سعر الاشتراك (افتراضي 250).

## هيكلة قاعدة البيانات (مختصر)
- `User` (أستاذ) + حقول الملف الشخصي ومواعيد التجربة والاشتراك.
- `Classroom` (قسم) ← يملك `Student` و `LessonPlan`.
- `Student` (تلميذ) ← يملك `Note`, `Grade`, `FollowUp`.
- `Note` دفتر الملاحظات (غياب/تأخر/سلوك/مشاركة/اقتراحات).
- `Grade` التنقيط (العنوان، العلامة، من، وزن، الثلاثي).
- `LessonPlan` التحضير (الأهداف، الوسائل، سير الحصة).
- `Meeting`, `Activity`, `FollowUp` دفاتر إضافية.

## ملاحظات
- البحث يتم بالاسم/اللقب في مواضع متعددة.
- الطباعة توفّر قالبًا يتضمن معلومات المؤسسة/المادة/القسم/الفصل من **ملف الأستاذ**.
- إعادة تعيين كلمة المرور: الرابط يظهر على الشاشة ويُطبع في سجل الخادم (Console) لأغراض العرض.
